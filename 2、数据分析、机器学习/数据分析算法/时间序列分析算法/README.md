## AR、MA、ARMA、ARIMA模型介绍

### 时间序列预测模型
时间序列分析模型建立了 __观察结果__ 与 __时间变化__ 的关系，能帮我们预测未来一段时间内的结果变化情况。

### 时间序列和逻辑回归的区别
首先，在选择模型前，我们需要确定结果与变量之间的关系。 __回归分析训练得到的是目标变量 y 与自变量 x（一个或多个）的相关性，然后通过新的自变量 x 来预测目标变量 y。而时间序列分析得到的是目标变量 y 与时间的相关性。__

另外， __回归分析擅长的是多变量与目标结果之间的分析__ ，即便是单一变量，也往往与时间无关。而 __时间序列分析建立在时间变化的基础上__ ，它会 __分析目标变量的趋势、周期、时期和不稳定因素等__ 。这些趋势和周期都是在时间维度的基础上，我们要观察的重要特征。

### AR 模型
AR 的英文全称叫做 Auto Regressive，中文叫 __自回归模型__ 。这个算法的思想比较简单，它认为过去若干时刻的点通过线性组合，再加上白噪声就可以预测未来某个时刻的点。在我们日常生活环境中就存在白噪声，在数据挖掘的过程中，你可以把它理解为一个期望为 0，方差为常数的纯随机过程。AR 模型还存在一个阶数，称为 AR（p）模型，也叫作 p 阶自回归模型。它指的是通过这个时刻点的前 p 个点，通过线性组合再加上白噪声来预测当前时刻点的值。

### MA 模型
MA 的英文全称叫做 Moving Average，中文叫做 __滑动平均模型__ 。它与 AR 模型大同小异，AR 模型是历史时序值的线性组合，MA 是通过历史白噪声进行线性组合来影响当前时刻点。AR 模型中的历史白噪声是通过影响历史时序值，从而间接影响到当前时刻点的预测值。同样 MA 模型也存在一个阶数，称为 MA(q) 模型，也叫作 q 阶移动平均模型。我们能看到 AR 和 MA 模型都存在阶数，在 AR 模型中，我们用 p 表示，在 MA 模型中我们用 q 表示，这两个模型大同小异，与 AR 模型不同的是 MA 模型是历史白噪声的线性组合。

### ARMA 模型
ARMA 的英文全称是 Auto Regressive Moving Average，中文叫做 __自回归滑动平均模型__ ，也就是 AR 模型和 MA 模型的混合。相比 AR 模型和 MA 模型，它有更准确的估计。同样 ARMA 模型存在 p 和 q 两个阶数，称为 ARMA(p,q) 模型。


### ARIMA 模型
ARIMA 的英文全称是 Auto Regressive Integrated Moving Average 模型，中文叫 __差分自回归滑动平均模型__ ，也叫求合自回归滑动平均模型。相比于 ARMA，ARIMA 多了一个差分的过程，作用是对不平稳数据进行差分平稳，在差分平稳后再进行建模。ARIMA 的原理和 ARMA 模型一样。相比于 ARMA(p,q) 的两个阶数，ARIMA 是一个三元组的阶数 (p,d,q)，称为 ARIMA(p,d,q) 模型。其中 d 是差分阶数。

*   __参数和数学形式：__

    p: 采用的时间序列数据本身的滞后数(lags)，也叫 Auto-Regressive 项

    d：时间序列变为平稳时所作的差分次数，也叫 Integrated 项

    q：移动平均项数，也叫 Moving Average 项


*   __基本思想：__

    将预测对象随着时间的推移而形成的 __非平稳时间序列__ 转化为 __平稳时间序列__,然后对 __因变量的滞后值__ 以及 __随机误差项的现值和滞后值__ 进行回归，这个模型一旦被识别之后就可以从时间序列的过去值及现在值来预测未来值


*   __差分序列：__

    差分序列就是原始序列的后项减去前项的值 如

        原始序列 11，12，13，14，15
        差分序列 1，1，1，1
    
    我们可以看出来，原先的原始序列是不平稳的 因为他处于一个增长的趋势 ，但是经过差分处理之后，我们看到差分序列是平稳的 都是1.

*   __优点：__

    模型只需要借助内在的变量就可以进行预测，而不需要外在的变量，比较简单，同时arima考虑到了数据在时间序列上的依存性，又考虑到了随机波动的干扰性，__对于短期的预测的准确度较高。__

*   __缺点：__

    __要求数据是稳定的，或者通过差分之后是稳定的，__ 如果经过差分之后还是不稳定的，那是无法捕捉到规律的。比如股票无法使用 ARIMA 进行预测的原因是，股票常会被国家政策影响


### 衡量模型拟合的好坏的一个标准AIC

__arma.aic: AIC 准则，也叫作赤池消息准则，它是衡量统计模型拟合好坏的一个标准，数值越小代表模型拟合得越好。__


### 实战案例为比特币走势预测
https://github.com/OneStepAndTwoSteps/data_mining_analysis/tree/master/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%A1%88%E4%BE%8B/%E9%A2%84%E6%B5%8B%E6%AF%94%E7%89%B9%E5%B8%81%E8%B5%B0%E5%8A%BF
